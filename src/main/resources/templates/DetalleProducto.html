<!DOCTYPE html>
<html lang="es" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda en línea</title>

    <!-- Agrega los enlaces a Bootstrap CSS y JS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


</head>
<body>

<!-- Botón para abrir el modal 
<button type="button" class="btn btn-primary mt-3 ml-3" data-bs-toggle="modal" data-bs-target="#detalleProductoModal">
    Ver Detalle del Producto
</button> 

<!-- Modal -->

<div class="modal fade" id="detalleProductoModal" tabindex="-1" role="dialog" aria-labelledby="detalleProductoModalLabel" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="detalleProductoModalLabel">Detalles del Producto</h5>
            </div>
            <div class="modal-body">
                <!-- Contenido del producto -->
                <div class="container">
                    <div class="row">
                        <div class="col-md-7 text-right">
                            <img alt="" th:src="'data:image/jpeg;base64,' + ${producto.foto}" class="img-fluid rounded" style="max-width: 100%;" />
                        </div>
                        <div class="col-md-4 text-left">
                            <h4>Nombre del Producto : <span th:text="${producto.nomProducto}"></span></h4>
                            <p>Precio del Producto : <span th:text="'S/ ' + ${producto.precioPro}" class="lead"></span></p>
                            <p>Estado del Producto : <span th:if="${producto.estado == 1}" class="text-success">Disponible </span> </p>
                            <p th:if="${producto.estado == 2}" class="text-danger">No Disponible</p>
                            <p>Marca: <span th:text="${producto.idMarca.descripcion}"></span></p>
                            

                        </div>
                    </div>
                </div>
            </div> 
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
					        <i class="fas fa-times"></i> Cerrar
				</button>
            </div>
        </div>
    </div>
</div>



<script src="https://code.jquery.com/jquery-3.7.1.min.js" ></script>

<!-- Agrega el script de Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>

<script>
$(document).ready(function() {
    // Abre el modal automáticamente cuando la página se carga
    $('#detalleProductoModal').modal('show');
});
</script>


<!-- Script para redirección al cerrar el modal -->
<script>
$(document).ready(function() {
    // Selecciona el botón "Cerrar" dentro del modal
    var cerrarModalButton = document.querySelector(".modal-footer button[data-bs-dismiss='modal']");

    // Agrega un controlador de eventos al botón
    cerrarModalButton.addEventListener("click", function() {
        // Realiza la redirección a la página "tienda"
        window.location.href = "/tienda";
    });
});
</script>


</body>
</html>
